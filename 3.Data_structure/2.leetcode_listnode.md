## LEETCODE é“¾è¡¨åˆ·é¢˜
#### åŒ…å«leetcode 19, 24, 83, 141, 142, 160



#### leetcode 141 çŽ¯å½¢é“¾è¡¨
æ€æƒ³: å¿«æ…¢æŒ‡é’ˆã€‚

è®¾`*p = head, *q = head->next`
é‚£ä¹ˆæ¯æ¬¡på‘åŽèµ°1ï¼Œqå‘åŽèµ°2ï¼Œè¿™æ ·æ¯æ¬¡æ­¥é•¿éƒ½å·®1ï¼Œèµ°åˆ°ç¬¬xæ­¥çš„æ—¶å€™ï¼Œå¦‚æžœæœ‰çŽ¯å°±ä¸€å®šä¼šç›¸é‡ã€‚

å¦‚æžœqæˆ–è€…`q->next` ä¸ºç©º è¯æ˜Žèµ°åˆ°äº†é“¾è¡¨çš„æœ€åŽä¸€ä¸ªèŠ‚ç‚¹ æ²¡çŽ¯ é€€å‡ºå¾ªçŽ¯

å› ä¸ºæˆ‘ä»¬çš„å¾ªçŽ¯æ¡ä»¶æ˜¯`p != q` æ‰€ä»¥ä¸€å¼€å§‹è¦è®©`p q`ä¸ç›¸ç­‰ è¿™é‡Œçš„
è®¾`*p = head, *q = head->next` åªæ˜¯ä¸ºäº†è¿™ä¸€ç‚¹ å¦‚æžœ`p q`ä¸€å¼€å§‹ç›¸ç­‰ å¾ªçŽ¯æ ¹æœ¬ä¸ä¼šè¿›è¡Œ
```c++
class Solution {
public:
    bool hasCycle(ListNode *head) {
        if (head == nullptr) return false;
        ListNode *p = head, *q = p->next;
        //å½“ç„¶ä¸ºäº†è¾¾æˆpå’Œqä¸€å¼€å§‹æœ‰å·®è· æˆ‘ä»¬é‡‡å–å¦‚ä¸‹å†™æ³•ä¹Ÿæ˜¯å¯ä»¥çš„
        // do {
        //    p = p->next;
        //    q = q->next;
        //    if (q == nullptr || q->next == nullptr) return false;
        //    q = q->next;
        //} while (p != q);
        while (p != q && q && q->next) {
            p = p->next;
            q = q->next->next;
        }
        return q && q->next;
    }
};
```



#### 142 çŽ¯å½¢é“¾è¡¨$\mathcal{2}$ æ‰¾çŽ¯å½¢é“¾è¡¨çš„çŽ¯å¼€å§‹çš„èŠ‚ç‚¹

åœ¨141çš„åŸºç¡€ä¸Šï¼Œå‡è®¾p qå½“å‰èµ°äº†aæ­¥ã€‚å³pè·ç¦»headä¸ºa æ°å¥½èµ°åˆ°é“¾è¡¨çŽ¯çš„å¼€å§‹èŠ‚ç‚¹ï¼Œqè·ç¦»pä¹Ÿä¸ºaã€‚

ä¸å¦¨è®¾çŽ¯å‰©ä½™çš„é•¿åº¦ä¸ºxï¼Œå³qè¿˜å·®xæ­¥è¿½ä¸Špï¼ŒåŒæ—¶çŽ¯çš„é•¿åº¦ä¸ºa + xã€‚
å†èµ°xæ­¥ `p q` ç›¸é‡ æ­¤æ—¶åœ¨çŽ¯ä¸­ æ˜¯ä¸æ˜¯`p q` çš„ä½ç½®ç¦»çŽ¯å¼€å§‹çš„èŠ‚ç‚¹nè·ç¦»ä¸ºaï¼Œåˆå› ä¸ºæˆ‘ä»¬ä¸€å¼€å§‹è®¾çŽ¯å¼€å§‹çš„èŠ‚ç‚¹è·ç¦»headä¸ºa

è®¾$D(p q, n) è¡¨ç¤ºpqç›¸é‡çš„æ—¶å€™è·ç¦»çŽ¯å¼€å§‹èŠ‚ç‚¹nçš„è·ç¦»$

$D(head, n)ä¸ºhaedè·ç¦»nçš„è·ç¦»$ ðŸˆ¶ï¸ï¼š
$D(head, n) = D(p q, n)$

æ‰€ä»¥åœ¨pqç›¸é‡ä¹‹åŽ ï¼Œæˆ‘ä»¬å°†pæˆ–è€…qæŒ‡å‘headï¼Œä¸¤è€…åŒæ—¶å‘åŽèµ°ã€‚ç›¸é‡æ—¶çš„èŠ‚ç‚¹å³ä¸ºnã€‚

```c++
class Solution {
public:
    ListNode *detectCycle(ListNode *head) {
        if (head == nullptr) return nullptr;
        ListNode *p = head, *q = head->next;
        while (p != q && q && q->next) {
            p = p->next;
            q = q->next->next;
        }
        if (q == nullptr || q->next == nullptr) return nullptr;
        // å’Œ141ä¸€æ¯›ä¸€æ · åˆ¤æ–­æ˜¯å¦æœ‰çŽ¯
        p = head->next, q = head->next->next;
        //ä½†æ˜¯ä¸ºå•¥p = head, q = head->next; ä¸è¡Œå‘¢???
        while (p != q) {
            p = p->next;
            q = q->next->next;
        }
        p = head;
        while (p != q) {
            p = p->next;
            q = q->next;
        }
        return q;
    }
};
```
å¦‚æžœè§‰å¾—ç¬¬äºŒæ¬¡éåŽ†é“¾è¡¨çš„p, qå–å€¼ä¸å¥½ç†è§£ï¼Œå¯ä»¥çœ‹å¦‚ä¸‹çš„ä»£ç 
å¾ˆæœ´ç´ çš„æ–¹æ³•ï¼Œè®¾ç½®ä¸€ä¸ªå˜é‡cntè®°å½•çŽ¯çš„é•¿åº¦
```c
struct ListNode *detectCycle(struct ListNode *head) {
    if (head == NULL) return NULL;
    struct ListNode *p = head, *q = head;
    do {
        p = p->next;
        q = q->next;
        if (q == NULL || q->next == NULL) {
            return NULL;
        }
        q = q->next;
    } while (q != p);
    int cnt = 0;
    do {
        cnt++;
        p = p->next;
    } while (p != q);
    p = head, q = head;
    while (cnt--) {
        p = p->next;
    }
    //åˆ°è¿™ä¸€æ­¥å°±å®žçŽ°äº†qä¸ºhead pèµ°äº†cntæ­¥ åˆ°äº†æˆ‘ä»¬è¯´çš„nç‚¹ æ­¤æ—¶
    // p qåˆ°nç‚¹çš„è·ç¦»ç›¸åŒ éƒ½ä¸ºa
    while (p != q) {
        p = p->next;
        q = q->next;
    }
    return p;
}
```
å®žé™…ä¸Šæˆ‘ä»¬çš„ä»£ç æ˜¯å¯ä»¥å°‘ä¸€æ¬¡å¾ªçŽ¯çš„ï¼Œä½ çœ‹ç¬¬äºŒæ¬¡å¾ªçŽ¯å®Œæˆäº†æ˜¯ä¸æ˜¯å’Œç¬¬ä¸€æ¬¡å¾ªçŽ¯å®Œæˆäº†ä¹‹åŽ`p q`
çš„ä½ç½®ä¸€æ ·å•Šï¼Œ`p == q`äº†ï¼Œå°±æ˜¯éƒ½åœ¨nç‚¹äº†ã€‚
ä½†æ˜¯è¦æ³¨æ„çš„æ˜¯`p, q`çš„å¾ªçŽ¯èµ·ç‚¹(è¿™é‡Œè¯´å®žåœ¨çš„æ²¡æžæ‡‚)
**å¹¶ä¸æ˜¯å¾ªçŽ¯èµ·ç‚¹çš„é—®é¢˜ **ï¼Œpqå‘å‰èµ°çš„æ­¥æ•°æ˜¯ä¸€ç›´å·®1çš„ï¼Œä¸€å¼€å§‹å°†`p = head, q = head->next`

ä¹‹åŽç›´æŽ¥è¿›å…¥å¾ªçŽ¯ï¼Œç¬¬ä¸€æ­¥qèµ°äº†1æ­¥ï¼Œpæ²¡åŠ¨ã€‚æ‰€ä»¥ä¼šå½±å“åŽè¾¹çš„éåŽ†ï¼Œå¯¼è‡´è¶…æ—¶ã€‚

ä¸€å¼€å§‹è®©`p = q = head` åŽç”¨`do while` ä¹Ÿå¯

#### 202 å¿«ä¹æ•°
å¿«ä¹æ•°ï¼šæ¯æ¬¡è¿­ä»£éƒ½å°†nçš„å„ä½çš„å¹³æ–¹å’Œç»„æˆæ–°æ•°mï¼Œä¸€ç›´åˆ°m == 1ä¸ºæ­¢ã€‚è¦æ˜¯æˆä¸äº†1ï¼Œå°±ä¸æ˜¯ã€‚

æ¯”å¦‚å¯¹äºŽn = 19, 19->82->68->100->1

å¯¹äºŽn = 15, 15->26->40->4->4....

å‘çŽ°è¿™ä¸ªç»“æž„å¾ˆåƒé“¾è¡¨ï¼è¦æ˜¯åˆ°ä¸äº†1ï¼Œå°±ä¼šäº§ç”ŸçŽ¯ã€‚æ‰€ä»¥æ€æƒ³å’Œ141å¦‚å‡ºä¸€è¾™ï¼Œå¿«æ…¢æŒ‡é’ˆã€‚
**æ­£æ˜¯åº”ç”¨äº†é“¾è¡¨çš„å”¯ä¸€æŒ‡å‘æ€§ï¼æœ€æ˜¾è‘—çš„ç‰¹å¾**

```c++
int get_happy(int x) {
        int temp = 0;
        while (x) {
            temp += (x % 10) * (x % 10);
            x /= 10;
        }
        return temp;
    }
    bool isHappy(int n) {
        int p = n, q = n;
        do {
            p = get_happy(p);
            q = get_happy(get_happy(q));
        } while (p != q && q != 1);
        // q == 1å°±ç›¸å½“äºŽ== NULL qp é‡ä¸ä¸Šå°±ç›¸å½“äºŽæ²¡çŽ¯
        return (q == 1);
    }
```

203 
åè½¬206 92 25 61

åˆ é™¤ 19(åŒæŒ‡é’ˆ)

### åè½¬é“¾è¡¨ä¸“é¢˜
#### 206 åè½¬é“¾è¡¨æ¨¡æ¿
é€’å½’è®¾è®¡çš„æŠ€å·§

å¯¹äºŽä¸€ä¸ª1->2->3->4->5çš„é“¾è¡¨æ¥è¯´ï¼Œåè½¬å®ƒä¸å°±æ˜¯å°†æŒ‡é’ˆå€’ç€æŒ‡è¿‡æ¥å—
```c++
class Solution {
public:
    ListNode* reverseList(ListNode* head) {
        if (head == nullptr || head->next == nullptr) return head;
        ListNode *tail = head->next, *p = reverseList(head->next);
        head->next = tail->next;
        tail->next = head;
        return p;
    }
};
```
reverseListè¿™ä¸ªé€’å½’å‡½æ•°ï¼Œé¦–å…ˆè¦é€’ï¼Œå…¶å®žå°±æ˜¯å‘åŽèµ°çš„è¿‡ç¨‹ã€‚èµ°åˆ°æœ€åŽä¸€ä¸ªèŠ‚ç‚¹äº†ï¼Œ
åœ¨è¿›è¡Œå½’çš„è¿‡ç¨‹ã€‚å½’çš„æ—¶å€™æ‰å°†é“¾è¡¨è¿›è¡Œåè½¬ã€‚

å®žé™…ä¸Šåœ¨è¿›è¡Œåè½¬çš„æ—¶å€™åªæ¶‰åŠåˆ°äº†ä¸¤ä¸ªç‚¹ï¼ŒæŒ‡å‘å½“å‰å½’çš„headå’Œhead->next(tail)
ä¹‹åŽåªéœ€äº¤æ¢è¿™ä¸¤ä¸ªèŠ‚ç‚¹çš„å€¼ï¼Œhead->tail->nullptrè¿™ä¸ªç»“æž„
å°†`head->next = tail->next;` è¿™è¡Œæ”¹æˆ`head->next = nullptr`ä¸€æ ·ç”¨
å› ä¸ºheadä½œä¸ºå½“å‰åè½¬é“¾è¡¨çš„å°¾äº†ï¼Œtailä½œä¸ºå¤´

**è¿™é‡Œæ³¨æ„pæŒ‡å‘çš„æ˜¯åŽŸé“¾è¡¨çš„å°¾ï¼Œå³æ–°é“¾è¡¨çš„å¤´**
på®Œæˆé€’ä¹‹åŽå°±ä¸å˜äº†ï¼Œå¼¹æ ˆçš„åªæœ‰head

#### 92 ç¿»è½¬æŒ‡å®šåŒºé—´çš„Node

ç¿»è½¬left åˆ°rightåŒºé—´å†…çš„é“¾è¡¨ï¼Œå…¶å®žè¿›è¡Œä¸€ä¸ªç®€å•çš„æ€æƒ³å˜å½¢å°±å¯

å…ˆèµ°`--left`åˆ°å¾…ç¿»è½¬çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹å‰è¾¹çš„èŠ‚ç‚¹ï¼Œä¹‹åŽç¿»è½¬`right - left + 1`ä¸ªèŠ‚ç‚¹å°±å®Œæˆã€‚

æ³¨æ„å¼•å…¥è™šæ‹Ÿå¤´èŠ‚ç‚¹ä¹‹åŽæ˜¯æ— éœ€è¿›è¡Œè¾¹ç•Œæ¡ä»¶åˆ¤æ–­çš„ï¼Œåˆå› ä¸º`reverse()`è¿”å›žçš„æ˜¯å­é“¾è¡¨ç¿»è½¬ä¹‹åŽçš„å¤´èŠ‚ç‚¹

æ‰€ä»¥`p->next = reverse(p->next, n)`
```c++
class Solution {
public:
    ListNode *reverse(ListNode *head, int n) {
        if (n == 1) return head;
        ListNode *tail = head->next, *p = reverse(head->next, n - 1);
        head->next = tail->next;
        tail->next = head;
        return p;
    }
    ListNode* reverseBetween(ListNode* head, int left, int right) {
        ListNode ret(0, head), *p = &ret;
        int cnt = right - left + 1;
        while (--left) p = p->next;
        p->next = reverse(p->next, cnt);
        return ret.next;
    }
};
```

#### 25 Kä¸ªä¸€ç»„ç¿»è½¬é“¾è¡¨

è¿˜æ˜¯ç¿»è½¬é“¾è¡¨ï¼Œæœ¬é¢˜å¤„ç†èµ·æ¥å¤æ‚ä¸€äº›ã€‚
é¦–å…ˆè¦åˆ¤æ–­å¤Ÿä¸å¤Ÿkä¸ª `while (--k && p) p = p->next;`

på‘åŽèµ° èƒ½èµ°å®Œå°±ç¿»è½¬ èµ°ä¸å®Œï¼Œå³`p = nullptr`å°±`return head`
è¿™ä¸ªheadæ˜¯å½“å‰å¾…ç¿»è½¬å­é“¾è¡¨çš„å¤´èŠ‚ç‚¹ é•¿åº¦å¤Ÿå†è°ƒç”¨æ¨¡æ¿ç¿»è½¬

ä¸»å‡½æ•°æ€Žä¹ˆå†™å‘¢ï¼Œè¿™é‡Œè¿˜æ˜¯è¦ç”¨åˆ°è™šæ‹Ÿå¤´èŠ‚ç‚¹ï¼Œå› ä¸ºå¤´èŠ‚ç‚¹å°±ä¼šå‘ç”Ÿç¿»è½¬

è¿™é‡Œä»¤`p = ret, q = head;` å½“å‘ç”Ÿä¸€æ¬¡ç¿»è½¬ pçš„å€¼æš‚é“¾è¡¨æ—¶ä¸å˜ï¼Œ`p->next å³ q`çš„å€¼å°±å˜æˆäº†å·²ç»ç¿»è½¬å®Œæˆé“¾è¡¨çš„
å°¾èŠ‚ç‚¹ã€‚é‚£ä¹ˆ`q->next`ä¸æ­£æ˜¯ä¸‹ä¸€ä¸ªå¾…ç¿»è½¬é“¾è¡¨çš„å¤´èŠ‚ç‚¹äº†ä¹ˆï¼Œæ‰€ä»¥æˆ‘ä»¬äº¤æ¢`p q, q = q->next`è®©qä¾ç„¶æ˜¯`p->next`
å³å¯
**è¿™é‡Œæ³¨æ„çš„æ˜¯å¾ªçŽ¯ç»ˆæ­¢æ¡ä»¶ï¼Œå¦‚æžœå‘ç”Ÿç¿»è½¬ï¼Œ`pæ˜¯å¾…ç¿»è½¬å‰çš„ p->nextæ˜¯ç¿»è½¬å®Œæˆçš„head qæ˜¯ç¿»è½¬å®Œæˆçš„tail` å³`p != q`**
æ‰“ä¸ªæ¯”æ–¹ 
ret->1->2->3->4->5 K = 3;

START: p = ret, q = 1;

ONE REVERSE: p = ret, q = 1, p->next = 3. LINKLIST:ret->3->2->1->4->5

JUDGE: FUNC: reverse(4, 3) return 4->5; p = 3, q = 4, p->next = q; END

