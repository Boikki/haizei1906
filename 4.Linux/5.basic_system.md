
## 基本系统

#### 目录结构
**`/etc`:** 软件，系统的全局配置文件，普通usr没有修改的权限

<img src="/Users/renboyu/Library/Application Support/typora-user-images/截屏2022-01-13 15.27.42.png" alt="截屏2022-01-13 15.27.42" style="zoom:50%;" />

`/tmp`:临时文件夹，所有的用户都可以对此文件夹下的问价读写修改，权限为777.但是只有创建者能删除。**注意一关机就没了**

#### 启动过程

1. 按开机键

   加载`BIOS(Basic Input Output System)`,CMOS芯片与BIOS芯片都是[存储器](https://zh.wikipedia.org/wiki/存储器)。二者区别是**CMOS芯片中存储的是BIOS的设定值，而BIOS芯片中存储的是BIOS[程序](https://zh.wikipedia.org/wiki/程序)。** 读取硬件信息，自建，获得第一个可启动的设备。

2. 读取并执行第一个储存设备内的MBR（即主引导记录（Master Boot Record，缩写：MBR），又叫做主引导扇区，是计算机开机后访问硬盘时所必须要读取的首个扇区，它在硬盘上的三维地址为（柱面，磁头，扇区）＝（ 0，0，1））的bootloader。

   ##### 引申一下：

   + 分区表是在磁盘（存储介质）上的，用于描述该磁盘的分区情况，有 GPT 和 MBR 两种格式。

   + BIOS和UEFI是固件接口标准，功能包括开机自检、启动流程（如何找到引导程序）、给操作系统和引导程序提供系统服务等。存储于主板的ROM/EEPROM/flash中，提供的功能包括：
     1. 开机自检
     2. 加载引导程序（MBR中的，通常是 bootloader 的第一级）
     3. 向OS提供抽象的硬件接口

   + MBR 是引导扇区，包括最多446个字节的引导程序（通常是引导程序的前部）和 MBR 分区表，其中可以包括4个主分区。

   + 启动方式是指如何主板上的固件在开机自检后如何找到引导程序，有 Legacy 模式（BIOS + MBR）和 UEFI 模式（UEFI _+ GPT）
   + Bootloader即上文中提到的引导程序，用于启动操作系统或者其它引导程序。LINUX下为GRUB，通过GRUB启动win系统即为启动了win的引导程序

3. 根据bootloader的设置加载kernel，kernel接手BIOS的工作开始检测硬件，加载驱动。

4. bootloader加载虚拟文件系统，并加载启动过程中需要的内核模块。

5. 启动第一个进程systemd(daemon 后台进程) systemd是Linux电脑操作系统之下的一套中央化系统及设置管理程序，包括有守护进程、程序库以及应用软件

6. systemd启动终端getty

7. 运行x windows(x11)系统即图形界面 X11也叫做X Window系统，X Window系统(X11或X)是一种位图显示的视窗系统。 它是在Unix和类Unix 操作系统，以及 OpenVMS 上建立图形用户界面的标准工具包和协议，并可用于几乎所有已有的现代操作系统。

#### 系统启动

##### <img src="/Users/renboyu/Library/Application Support/typora-user-images/截屏2022-01-17 15.11.17.png" alt="截屏2022-01-17 15.11.17" style="zoom:50%;" />

`sudo init 0 == shutdown` 

##### systemd方式

更快，并行的启动所有的服务

#### 配置文件

##### 全局配置文件

系统初始化

`/etc/timezone` == 时区；`/etc/inetd.conf` == 超级进程

##### 文件系统（FS） **系统里基本FS都是File System的的意思**

`/etc/fstab`开机时挂载的FS；`/etc/mtab`当前挂载的FS

```shell
cat /etc/fstab
# /etc/fstab: static file system information.
#
# Use 'blkid' to print the universally unique identifier for a
# device; this may be used with UUID= as a more robust way to name devices
# that works even if disks are added and removed. See fstab(5).
#
# <file system> <mount point>   <type>  <options>       <dump>  <pass>
# / was on /dev/vda1 during installation
UUID=db6d44d6-dd6d-4798-a5a9-2f7af61ab56d /               ext4    errors=remount-ro 0       1
/dev/fd0        /media/floppy0  auto    rw,user,noauto,exec,utf8 0       0
```

+ UUID 是标识设备为硬盘分区的唯一标识用于帮助Linux *系统*识别一个磁盘分区而不是块设备*文件*。
+ mount point是挂载点 / 就是根目录 后边的就不说了



pi3家目录下的client文件夹挂载到了本机的/home/pi/mnt文件夹下 sshfs文件系统 后边就是什么读写，无uid 无dev 用户和组的ID

##### 用户系统

`/etc/shell` `etc/profile`首选项
