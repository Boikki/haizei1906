
## 数据提取

#### cut 切分

```shell
cut [dfc] <file>
-d "del" 以del分隔符分割 'delimiter - 分隔符'
-f num 显示num字段的内容,指被切割后的字段 'field - 区块'
-c num 显示第num字符 num可以写成a-b -b a-
```



#### sort 排序

<img src="/Users/renboyu/Library/Application Support/typora-user-images/截屏2022-02-14 11.51.27.png" alt="截屏2022-02-14 11.51.27" style="zoom:50%;" /> 

默认是按照字典序

#### uniq 去重

```shell
uniq [ic]
-i 忽略大小写
-c 进行计数
```





#### split 文件切分

```shell
split [bl] <file> PREFIX
-b size 切分为size大小的文件
-l num 以num行切分
```

对于大量的数据，最好是先进行切分再读入内存，分块测试。

比如对于10G的数据，切成1G的小块之后可以用10个线程并发读入

#### tr 替换、压缩和删除

```shell
tr [cdst] <SET1> <SET2>
tr 什么也不加，取代所有属于SET1的字符
-c 取代所有不属于SET1(字符集1)的字符 
-d 删除SET1的字符
-s 连续重复的字符以一个字符表示
-t 截短SET1，截去的是SET1较SET2多出来的字符
```

`tr -c str1 str2`的意思不是取代str1，是取代stdin里不属于str1的字符为str2

比如 `echo -n "abcdefg0123" | tr "0-9" "x"`结果为`abcdefgxxx` 

`echo "abcdefg0123" | tr -t "a-z" "x"
xbcdefg0123` 注意这里只替换了第一个，

而`echo "abcdefg0123" | tr -t "a-z" "A-Z"
ABCDEFG0123`则替换了全部



##### 区分tr & tr -t

```shell
❯ echo -n "abcdefghijklmnopqrst0123" | tr -t "a-z" 0-9
0123456789klmnopqrst0123#
❯ echo -n "abcdefghijklmnopqrst0123" | tr "a-z" 0-9
012345678999999999990123#
```

可见`tr -t`是将`a-j`换成了`0-9`，后边不换

`tr`是将j后边的全换成了9，不进行截短



#### grep 检索

```shell
grep [acinv] <string> <file>
-a 二进制文件以普通文件来搜寻
-c 统计搜到的次数
-i 忽略大小写(常用)
-n 顺序输出行号
-v 反向输出 - 输出没找到的(常用)
-w word
```

如果不加`<file>`选项，那么它就阻塞了等待标准输入

`find ~ -name "*.c" -type f | xargs grep --color=auto -w -n "fork()"`

find是找到相关的文件，文件作为grep的标准输入，这样就可以找到文件内部的`fork()`了

如果不用`xargs`进行参数代换的话，就只能是统计文件名里是否包含`fork()`

#### wc 统计字符、字数、行数

```shell
wc [lwm] <file or stdin>
-l 行号
-w word
-m 字符
```



#### tee 双向重导项

最大的用处就是在屏幕看到程序输出的同时还将程序的输出保存下来

#### xrags 参数代换

```shell
xargs [0pne] <command>
-0 特殊字符还原位普通字符
-eEOF 读到EOF停止
-p 执行前询问
-n num 执行<command>需要的参数有num个
```

比如`./a.out`是通过参数来传递输入的，不接受stdin。这时用重定向和管道都不行。

`xrags`就是将前面的输出作为参数传递给后者 `cat input | xrags ./a.out`



比如`echo ls.c | cat`这样cat只能cat出一个ls.c字符串来

因为文件要作为参数传入，而非标准输入。管道是将前边的标准输出作为后边的标准输入传入的。

这种情况就要用`echo ls.c | xargs cat`完成前边标准输出到后边参数的转换



`ctrl + d` = EOF

