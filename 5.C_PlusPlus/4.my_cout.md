## MY_COUT å®žçŽ°

```c++
namespace haizei {
    class ostream {
    public :
        ostream &operator<<(int x) {
            printf("%d", x);
            return *this;
        }
        ostream &operator<<(const std::string &str) {
            printf("%s", str.c_str());
            return *this;
        }
        ostream %operator<<(const char &ch) {
            return *this;
        }
    };

    char endl = '\n';
    ostream cout;

}

int main() {
    haizei::cout << "hello haizei" << haizei::endl;
}
```

é¦–å…ˆé‡è½½`<<`è¿ç®—ç¬¦ä½¿å…¶æ”¯æŒæ•´å½¢å’Œå­—ç¬¦ä¸²çš„è¾“å‡ºã€‚

ä½†æ˜¯å¯¹äºŽ`endl`æ¢è¡Œç¬¦æœ€ç®€å•çš„å®žçŽ°æ–¹æ³•å°±æ˜¯å°†å…¶å®šä¹‰ä¸º`\n`ä½†æ˜¯è¿è¡Œæ—¶è¾“å‡ºçš„å´æ˜¯

`hello haizei10`ä¹Ÿå°±æ˜¯`endl`è¢«å½“æˆäº†ä¸€ä¸ªæ•´å½¢ï¼Œè€åŠžæ³•ï¼Œé‡è½½charåž‹çš„`<<`å³å¯





##### æµ®ç‚¹åž‹è¾“å‡º-å’Œprintfå¯¹æ¯”

ä¸¾ä¸ªä¾‹å­`123.456`coutè¾“å‡ºæ˜¯123.456ï¼Œ

ä½†æ˜¯printfè¾“å‡ºæ˜¯123.456000

`haizei::cout << 123.45 << haizei::endl;`

è¾“å‡ºçš„æ˜¯`123.450`ï¼Œè¿˜è¦å¹²æŽ‰åŽè¾¹çš„0

åšå‡ ä¸ªå®žéªŒåŽå‘çŽ°coutåœ¨$10^{-5}-10^6$â€‹ä¹‹é—´æ˜¯æŒ‰ç…§ç§‘å­¦è®°æ•°æ³•è¾“å‡ºçš„

ç§‘å­¦è®°æ•°æ³•çš„è¾“å‡ºæ ¼å¼æ˜¯`xxx.xxxexxx`

æ‰€ä»¥å…ˆè§£å†³è¿™ä¸ª

```c++
            int e_num, temp;
            char e_str[20];
            sprintf(e_str, "%.5e", a);
            sscanf(e_str, "%d.%de%d", &temp, &temp, &e_num);
            if (e_num > 7 || e_num < -6) {
                printf("%s", e_str);
            } else {
                temp = 5 - e_num;
                sprintf(e_str, "%%.%dlf", temp);
                printf(e_str, a);
            }
            return *this;
```



åœ¨è¿™ç§æƒ…å†µä¸‹coutè¾“å‡ºçš„æœ€é•¿çš„æ•°å­—ä¹Ÿå°±æ˜¯11ä½ï¼Œå¼€ä¸ª20çš„æ•°ç»„å­˜

ä¹‹åŽæŒ‰ç…§`%d.%de%d`è¿™ä¹ˆè¯»å‡ºæ¥å°±åˆ†åˆ«æ˜¯ä¸¤ä¸ªæœ‰æ•ˆæ•°å­—å’Œä½æ•°

å¯¹äºŽä½æ•°ä¸åœ¨$[-5, 7]$ä¹‹é—´çš„ç›´æŽ¥æŒ‰ç§‘å­¦è®°æ•°æ³•è¾“å‡ºå°±è¡Œ

å¯¹äºŽè¿™ä¸ªä¹‹å†…çš„æˆ‘ä»¬å‘çŽ°æ¯”å¦‚æ˜¯3.78788e+01ï¼Œ

cout è¾“å‡ºåº”è¯¥æ˜¯37.8788ï¼Œå°æ•°ç‚¹å³è¾¹æ˜¯5 - 1 = 4

å³5 - æœ€åŽä¸€ä¸ª%dï¼Œä½æ•°

æ‰€ä»¥å°†å ä½ç¬¦`%%.%dlf`è¿™é‡Œ`%d`å°±æ˜¯æœ‰æ•ˆæ•°å­—çš„å ä½ç¬¦`%.3lf`å°±æ˜¯ä¸‰ä½å°æ•°ç‚¹å³è¾¹æ•°å­—çš„æµ®ç‚¹åž‹



å…¶å®žä¸Šè¾¹è¿™ä¹ˆå¤šå·¥ä½œå°±ç›¸å½“äºŽå®žçŽ°`%g`äº†(ðŸ˜„)



å®žé™…ä¸Šä¸Šè¾¹è¿™ä¹ˆå¤šå·¥ä½œç”¨ä¸€è¡Œä»£ç `printf("%g", a);`å°±å®Œæˆäº†ã€‚ã€‚ã€‚ã€‚

